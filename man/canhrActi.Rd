% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/analyze_agd.R
\name{canhrActi}
\alias{canhrActi}
\title{canhrActi: Analyze ActiGraph AGD Files}
\usage{
canhrActi(
  agd_file_path,
  wear_time_algorithm = c("choi", "troiano", "CANHR2025"),
  intensity_algorithm = c("freedson1998", "CANHR"),
  min_wear_hours = 10,
  axis_to_analyze = c("axis1", "vector_magnitude"),
  output_summary = TRUE,
  lfe_mode = FALSE
)
}
\arguments{
\item{agd_file_path}{Character. Can be:
\itemize{
\item Single file path (e.g., "path/to/file.agd")
\item Vector of file paths (e.g., c("file1.agd", "file2.agd"))
\item Folder path (will analyze all .agd files in folder)
}}

\item{wear_time_algorithm}{Character. Which wear time detection algorithm to use:
\itemize{
\item \code{"choi"} - Choi et al. (2011) algorithm (recommended, default)
\item \code{"troiano"} - Troiano et al. (2007) algorithm
\item \code{"CANHR2025"} - CANHR 2025 custom algorithm
}}

\item{intensity_algorithm}{Character. Which intensity classification to use:
\itemize{
\item \code{"freedson1998"} - Standard Freedson Adult cut points (default)
\item \code{"CANHR"} - CANHR custom cut points
}}

\item{min_wear_hours}{Numeric. Minimum hours of wear time for a valid day (default: 10)}

\item{axis_to_analyze}{Character. Which axis to use for analysis:
\itemize{
\item \code{"axis1"} - Vertical axis (Y-axis, default, matches most research)
\item \code{"vector_magnitude"} - 3-axis vector magnitude
}
\strong{WARNING:} Freedson (1998) and most published cut points were validated
using vertical axis (axis1) only. Using vector magnitude with axis1-validated
cut points may produce results that differ from published literature. Use axis1
(default) for standard research comparability.}

\item{output_summary}{Logical. Print detailed summary to console? (default: TRUE)}
}
\value{
A list of class \code{"canhrActi_analysis"} containing:
\itemize{
\item \code{participant_info} - Data frame with participant details
\item \code{epoch_data} - Data frame with per-epoch counts and classifications
\item \code{daily_summary} - Data frame with per-day statistics
\item \code{overall_summary} - Data frame with overall statistics
\item \code{intensity_summary} - Data frame with intensity distribution
\item \code{valid_days} - Character vector of valid dates (YYYY-MM-DD)
\item \code{wear_time_periods} - Data frame with continuous wear periods
\item \code{parameters} - List of analysis parameters used
}
}
\description{
Main function for analyzing ActiGraph .agd files. Automatically handles
single files, multiple files, or entire folders.
}
\details{
\strong{Algorithms Implemented:}

\strong{Activity Counts:}
Uses ActiGraph's official algorithm (Neishabouri et al., 2022) with exact
IIR filter coefficients to produce identical counts to ActiLife software.

\strong{Wear Time Detection:}
\itemize{
\item \strong{Choi (2011):} 90-minute window with 2-minute spike tolerance
and 30-minute upstream/downstream zero-count validation. More sophisticated
and recommended for modern research.
\item \strong{Troiano (2007):} 60-minute window with 2-minute spike tolerance.
Widely used in NHANES and epidemiological studies.
\item \strong{CANHR 2025:} 120-minute window with 3-minute spike tolerance
and 45-minute upstream/downstream validation. Custom algorithm.
}

\strong{Intensity Classification:}
\itemize{
\item \strong{Freedson (1998):} Validated cut points for adults worn at hip
\itemize{
\item Sedentary: 0-99 CPM
\item Light: 100-1951 CPM
\item Moderate: 1952-5724 CPM
\item Vigorous: 5725-9498 CPM
\item Very Vigorous: >=9499 CPM
}
\item \strong{CANHR:} Custom cut points for specific populations
\itemize{
\item Sedentary: 0-150 CPM
\item Light: 151-2200 CPM
\item Moderate: 2201-6000 CPM
\item Vigorous: 6001-10000 CPM
\item Very Vigorous: >=10001 CPM
}
}

\strong{Valid Day Criteria:}
Days with >=10 hours (default) of wear time are considered valid for analysis.
This threshold can be adjusted via the \code{min_wear_hours} parameter.
}
\examples{
\dontrun{
# Single file
results <- canhrActi("path/to/file.agd")

# Multiple files (batch)
results <- canhrActi(c("file1.agd", "file2.agd"))

# Entire folder
results <- canhrActi("C:/My Data Folder")

# View overall summary
print(results)

# Access daily summary
print(results$daily_summary)

# Access epoch-by-epoch data
head(results$epoch_data)

# Use Troiano algorithm instead
results <- canhrActi("file.agd",
                     wear_time_algorithm = "troiano")

# Use vector magnitude instead of vertical axis
results <- canhrActi("file.agd",
                     axis_to_analyze = "vector_magnitude")

# Use CANHR cut points
results <- canhrActi("file.agd",
                     intensity_algorithm = "CANHR")

# Require 8 hours for valid day (instead of 10)
results <- canhrActi("file.agd", min_wear_hours = 8)
}

}
\references{
\itemize{
\item Neishabouri A, et al. (2022). Quantification of acceleration as activity
counts in ActiGraph wearable. Scientific Reports, 12(1), 11958.
\item Choi L, et al. (2011). Validation of accelerometer wear and nonwear time
classification algorithm. Medicine & Science in Sports & Exercise, 43(2), 357-364.
\item Troiano RP, et al. (2007). Physical activity in the United States measured
by accelerometer. Medicine & Science in Sports & Exercise, 40(1), 181-188.
\item Freedson PS, et al. (1998). Calibration of the Computer Science and
Applications, Inc. accelerometer. Medicine & Science in Sports & Exercise,
30(5), 777-781.
}
}
