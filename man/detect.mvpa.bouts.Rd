% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/bout_detection.R
\name{detect.mvpa.bouts}
\alias{detect.mvpa.bouts}
\title{Detect MVPA Bouts}
\usage{
detect.mvpa.bouts(
  intensity,
  min_bout_length = 10,
  drop_time_allowance = 2,
  use_80_percent_rule = FALSE,
  mvpa_levels = c("moderate", "vigorous", "very_vigorous")
)
}
\arguments{
\item{intensity}{Factor or character vector of intensity classifications}

\item{min_bout_length}{Integer. Minimum bout duration in minutes (default: 10)}

\item{drop_time_allowance}{Integer. Maximum minutes below MVPA threshold allowed
within a bout (default: 2). This allows for brief interruptions such as
waiting at traffic lights during jogging.}

\item{use_80_percent_rule}{Logical. If TRUE, uses 80\% rule instead of drop time
(default: FALSE). With 80\% rule, at least 80\% of minutes in a bout must be MVPA.}

\item{mvpa_levels}{Character vector. Intensity levels considered MVPA
(default: c("moderate", "vigorous", "very_vigorous"))}
}
\value{
Data frame with columns:
\itemize{
\item \code{bout_number} - Sequential bout identifier
\item \code{start_index} - Starting epoch index
\item \code{end_index} - Ending epoch index
\item \code{bout_length} - Duration in minutes
\item \code{mvpa_minutes} - Minutes at MVPA within bout
\item \code{mvpa_percent} - Percentage of bout at MVPA
}
}
\description{
Identifies sustained periods of moderate-to-vigorous physical activity (MVPA)
meeting specified bout criteria. Used to assess adherence to physical activity
guidelines which recommend MVPA in bouts of at least 10 minutes.
}
\details{
\strong{Standard Method (Drop Time Allowance):}

Identifies bouts of at least \code{min_bout_length} consecutive minutes where
activity is at MVPA level, allowing up to \code{drop_time_allowance} minutes
to drop below MVPA without breaking the bout. This method follows NHANES and
CDC standards.

Example: With 10-minute minimum and 2-minute allowance, a valid bout could be:
M-M-M-L-M-M-M-M-M-M (8 MVPA + 2 light = valid 10-minute bout)

\strong{80\% Rule Method:}

Requires at least 80\% of minutes within a bout to be at MVPA level. For a
10-minute bout, this means at least 8 minutes must be MVPA. This is equivalent
to the standard method for 10-minute bouts but differs for longer bouts.
}
\examples{
\dontrun{
results <- canhrActi("participant.agd")
bouts <- detect.mvpa.bouts(results$epoch_data$intensity)

# Summary
cat("Total MVPA bouts:", nrow(bouts), "\n")
cat("Total bouted MVPA:", sum(bouts$mvpa_minutes), "minutes\n")

# Conservative approach (1 minute allowance)
bouts_strict <- detect.mvpa.bouts(results$epoch_data$intensity,
                                  drop_time_allowance = 1)

# 80\% rule approach
bouts_80 <- detect.mvpa.bouts(results$epoch_data$intensity,
                              use_80_percent_rule = TRUE)
}

}
\references{
Troiano RP, et al. (2008). Physical activity in the United States measured by
accelerometer. Medicine & Science in Sports & Exercise, 40(1):181-188.

CDC/NHANES Physical Activity Monitor procedures:
https://www.cdc.gov/pcd/issues/2012/11_0332.htm

Matthews CE, et al. (2014). Interruption in physical activity bout analysis.
BMC Research Notes, 7:284.
}
